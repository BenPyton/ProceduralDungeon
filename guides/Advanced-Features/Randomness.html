<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/Advanced-Features/Randomness" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Managing Randomness | Procedural Dungeon Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://benpyton.github.io/ProceduralDungeon/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://benpyton.github.io/ProceduralDungeon/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://benpyton.github.io/ProceduralDungeon/guides/Advanced-Features/Randomness"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Managing Randomness | Procedural Dungeon Wiki"><meta data-rh="true" name="description" content="Randomness is an important part of any procedural generation algorithm.\"><meta data-rh="true" property="og:description" content="Randomness is an important part of any procedural generation algorithm.\"><link data-rh="true" rel="icon" href="/ProceduralDungeon/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://benpyton.github.io/ProceduralDungeon/guides/Advanced-Features/Randomness"><link data-rh="true" rel="alternate" href="https://benpyton.github.io/ProceduralDungeon/guides/Advanced-Features/Randomness" hreflang="en"><link data-rh="true" rel="alternate" href="https://benpyton.github.io/ProceduralDungeon/guides/Advanced-Features/Randomness" hreflang="x-default"><link rel="stylesheet" href="/ProceduralDungeon/assets/css/styles.f5b395a4.css">
<script src="/ProceduralDungeon/assets/js/runtime~main.42f7d010.js" defer="defer"></script>
<script src="/ProceduralDungeon/assets/js/main.98d340f7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ProceduralDungeon/"><div class="navbar__logo"><img src="/ProceduralDungeon/img/Icon128.png" alt="Wiki Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ProceduralDungeon/img/Icon128.png" alt="Wiki Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Procedural Dungeon Wiki</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ProceduralDungeon/guides/Home">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ProceduralDungeon/api">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ProceduralDungeon/contributing">Contributing</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/ProceduralDungeon/guides/Advanced-Features/Randomness">3.5</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ProceduralDungeon/guides/Advanced-Features/Randomness">3.5</a></li><li><a class="dropdown__link" href="/ProceduralDungeon/3.4">3.4</a></li><li><a class="dropdown__link" href="/ProceduralDungeon/3.3">3.3</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BenPyton/ProceduralDungeon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Plugin Sources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/BenPyton/DungeonExample" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Example Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/YE2dPda2CC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><img alt="Discord" src="https://img.shields.io/discord/1182461404092055574?style=for-the-badge&logo=discord&logoColor=white&label=Discord&color=5865F2"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/ProceduralDungeon/">Home</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ProceduralDungeon/guides/Home">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ProceduralDungeon/guides/Getting-Started/Installation">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Occlusion-Culling">Advanced Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Occlusion-Culling">Occlusion Culling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Door-Types">Door Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Room-Initialization">Room Initialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Room-Custom-Data">Room Custom Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Room-Visitor">Room Visitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Room-Observer">Room Observer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Custom-Create-Dungeon">Custom Create Dungeon Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Saving-Dungeon">Saving/Loading a Dungeon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ProceduralDungeon/guides/Advanced-Features/Randomness">Managing Randomness</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ProceduralDungeon/guides/Misc/Console-Commands">Misc</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ProceduralDungeon/guides/Best-Practices">Best Practices</a><button aria-label="Expand sidebar category &#x27;Best Practices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ProceduralDungeon/api">API References</a><button aria-label="Expand sidebar category &#x27;API References&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ProceduralDungeon/contributing">Contributing</a><button aria-label="Expand sidebar category &#x27;Contributing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><i>Support me!</i></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><a href="https://ko-fi.com/M4M3NW2JV"><img src="https://img.shields.io/badge/Ko--fi-FF5E5B?logo=kofi&logoColor=fff&style=for-the-badge" alt="Donate on Ko-fi"><br>              <a href="https://buymeacoffee.com/benpyton"><img src="https://img.shields.io/badge/Buy%20Me%20a%20Coffee-FFDD00?logo=buymeacoffee&logoColor=000&style=for-the-badge" alt="Donate on Buy Me a Coffee"><br>              <a href="https://liberapay.com/BenPyton/donate"><img src="https://img.shields.io/badge/Liberapay-F6C915?logo=liberapay&logoColor=000&style=for-the-badge" alt="Donate on Liberapay"><br>              <a href="https://www.paypal.com/donate/?hosted_button_id=9VWP66JU5DZXN"><img src="https://img.shields.io/badge/PayPal-003087?logo=paypal&logoColor=fff&style=for-the-badge" alt="Donate on PayPal"></a></a></a></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 3.5</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Managing Randomness</h1></header>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Randomness is an important part of any procedural generation algorithm.<br>
<!-- -->You <strong>must not</strong> take easily on it and should think about it seriously from the beginning of your project.<br>
<!-- -->This page will show you some features provided by the plugin to help you with tat task and gives you some best practices as well.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>When prototyping your game, you will certainly use the basic <code>Get Random</code> nodes provided by the engine.<br>
<!-- -->But this is quite dangerous, because each time you will launch your game, you&#x27;ll get different results.
When fixing bugs, this is a real nightmare.<br>
<!-- -->This is why you should always use <strong>deterministic</strong> randomness in your code.<br>
<!-- -->Unreal Engine provides the same random nodes as the basic ones but with the suffix <code>From Stream</code> at the end.
This means that they take an extra input, a <code>Random Stream</code> struct, which holds the current state of a random number generator.<br>
<!-- -->A random stream generates a new random number based a the previous one, and is initialized with a seed, which is just the first random number used to generate the subsequent ones.
That means the sequence of random numbers generated from the same seed will always be the same.
This is what is called a &quot;deterministic&quot; randomness.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-to-handle-randomness">Best practices to handle randomness<a href="#best-practices-to-handle-randomness" class="hash-link" aria-label="Direct link to Best practices to handle randomness" title="Direct link to Best practices to handle randomness">​</a></h2>
<p>Using one unique <code>Random Stream</code> for the whole dungeon may seems obvious if you want only one seed to generate the dungeon.<br>
<!-- -->However, this is a really bad design, because any small change in your code using some randomness will drastically change your whole dungeon.</p>
<p>For example, let&#x27;s say you want your lights in your dungeon to have random colors.
When adding the code to choose a <em>deterministic</em> random color to your light actors, the random stream will now give a random number to your light instead of what other code that should have taken it after that.
So, after the light actor, the whole number stream slides, giving different numbers to what need random numbers afterward.</p>
<p>To prevent that and make a robust random system that will not break your reproducibility of a dungeon whenever you change your code, you should use multiple random streams, initialized with some deterministic seed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-plugin-can-help-you">How the plugin can help you<a href="#how-the-plugin-can-help-you" class="hash-link" aria-label="Direct link to How the plugin can help you" title="Direct link to How the plugin can help you">​</a></h2>
<p>When you generate a dungeon, there are many pieces that may need randomness: the generator algorithm, the room custom data, the actors and their components, etc.<br>
<!-- -->What you want to achieve is to generate the exact same dungeon from only one seed.</p>
<p>The <a href="/ProceduralDungeon/guides/Getting-Started/Generating-Dungeon/Dungeon-Generator"><code>Dungeon Generator</code></a> will generate a new seed for each generation depending on its settings.<br>
<!-- -->But how to use it in your actors placed in the room levels?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-deterministic-random-component">The Deterministic Random Component<a href="#the-deterministic-random-component" class="hash-link" aria-label="Direct link to The Deterministic Random Component" title="Direct link to The Deterministic Random Component">​</a></h3>
<p>The plugin provides a <a href="/ProceduralDungeon/api/Classes/DeterministicRandomComponent"><code>Deterministic Random</code></a> component you can add to your actors.<br>
<!-- -->This component gives you a <code>Random Stream</code> initialized with a deterministic seed, computed by combining several sources:</p>
<ul>
<li>The dungeon generator&#x27;s guid</li>
<li>The dungeon generator&#x27;s seed</li>
<li>The owning room&#x27;s ID</li>
<li>The guid given through the <a href="/ProceduralDungeon/api/Classes/RoomActorGuid"><code>Room Actor Guid</code></a> interface if implemented (you can just add a <a href="/ProceduralDungeon/api/Classes/SimpleGuidComponent"><code>Simple Guid</code></a> component for that)</li>
</ul>
<p>This makes the random stream of the actor completely local and independent to each others, but will return different results for each instance of your actor, and will stay deterministic from the dungeon seed as well.<br>
<!-- -->Also, this is a robust randomness, because when you place or remove new actor instances in your rooms, that will change nothing at all for the other actors.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#best-practices-to-handle-randomness" class="table-of-contents__link toc-highlight">Best practices to handle randomness</a></li><li><a href="#how-the-plugin-can-help-you" class="table-of-contents__link toc-highlight">How the plugin can help you</a><ul><li><a href="#the-deterministic-random-component" class="table-of-contents__link toc-highlight">The Deterministic Random Component</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>