"use strict";(self.webpackChunkprocedural_dungeon_wiki=self.webpackChunkprocedural_dungeon_wiki||[]).push([[5012],{13604:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var t=i(74848),r=i(28453);const s={slug:"/guides/Multiplayer",pagination_prev:null,pagination_next:null},o="Multiplayer",l={id:"guides/Misc/Multiplayer",title:"Multiplayer",description:"This guide assumes you have minimum knowledge about multiplayer in Unreal Engine.\\",source:"@site/docs/guides/Misc/Multiplayer.md",sourceDirName:"guides/Misc",slug:"/guides/Multiplayer",permalink:"/ProceduralDungeon/guides/Multiplayer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{slug:"/guides/Multiplayer",pagination_prev:null,pagination_next:null},sidebar:"homeSidebar"},a={},c=[{value:"Overview",id:"overview",level:2},{value:"How to do actor replication with this plugin",id:"how-to-do-actor-replication-with-this-plugin",level:2},{value:"<em>Since Plugin v3.0</em>",id:"since-plugin-v30",level:3},{value:"<em>Before Plugin v3.0</em>",id:"before-plugin-v30",level:3},{value:"Multiplayer in Editor",id:"multiplayer-in-editor",level:2}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"multiplayer",children:"Multiplayer"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Prerequisites",type:"info",children:[(0,t.jsxs)(n.p,{children:["This guide assumes you have minimum knowledge about multiplayer in Unreal Engine.",(0,t.jsx)(n.br,{}),"\n","It does not aim to teach you how to create multiplayer games in Unreal."]}),(0,t.jsxs)(n.p,{children:["If you are new to multiplayer in Unreal Engine, I would suggest you to read this ",(0,t.jsx)(n.a,{href:"https://cedric-neukirchen.net/docs/category/multiplayer-network-compendium",children:"Multiplayer Network Compendium"}),"."]})]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The first important thing to know is that only the server will generate the dungeon.",(0,t.jsx)(n.br,{}),"\n","The clients will replicate the room instance list from the server and then load/unload accordingly the levels."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(13282).A+""})}),"\n",(0,t.jsxs)(n.p,{children:["If you look at the state machine above, both server and client start in a state ",(0,t.jsx)(n.code,{children:"idle"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When the ",(0,t.jsx)(n.code,{children:"Generate"})," function is called on the server, it will trigger a generation process.",(0,t.jsx)(n.br,{}),"\n","It will run the ",(0,t.jsx)(n.code,{children:"CreateDungeon"})," function after all previous rooms was unloaded.",(0,t.jsx)(n.br,{}),"\n","When this function is ended, it will replicates the new room list to the client."]}),"\n",(0,t.jsxs)(n.p,{children:["When the client receives the replicated room list from the server, it will also triggers a generation process.",(0,t.jsx)(n.br,{}),"\n","However the client does ",(0,t.jsx)(n.strong,{children:"not"})," run the ",(0,t.jsx)(n.code,{children:"CreateDungeon"})," function and loads directly the new rooms.",(0,t.jsx)(n.br,{}),"\n","Finally it will goes back to the ",(0,t.jsx)(n.code,{children:"idle"})," state like the server."]}),"\n",(0,t.jsxs)(n.p,{children:["This system is beneficial because, unlike the previous versions of the plugin, any client joining after the server has generated the dungeon will properly load all rooms.\r\nAlso this ensure that all clients have the same rooms as the server.",(0,t.jsx)(n.br,{}),"\n","However, a lot more data will be sent over the network, especially if you have a huge amount of rooms in your dungeon."]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-do-actor-replication-with-this-plugin",children:"How to do actor replication with this plugin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Doors"})," are properly replicated over the network.",(0,t.jsx)(n.br,{}),"\n","However, you still need to do some logic correctly on your project in order to make it work properly.",(0,t.jsx)(n.br,{}),"\n","See the multiplayer section of the ",(0,t.jsx)(n.a,{href:"/ProceduralDungeon/guides/Door",children:"door wiki page"})," for details on it."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"since-plugin-v30",children:(0,t.jsx)(n.em,{children:"Since Plugin v3.0"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Actors"})," directly placed in room levels can be replicated like you would do with a normal unreal level.",(0,t.jsx)(n.br,{}),"\n","However, you should not forget to ",(0,t.jsx)(n.a,{href:"https://cedric-neukirchen.net/docs/multiplayer-compendium/replication",children:"replicate"})," properly your actors."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"before-plugin-v30",children:(0,t.jsx)(n.em,{children:"Before Plugin v3.0"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Actors"})," directly placed in room levels are not replicated. If you want to have some actors (like enemies, chests, NPCs, etc.) and want them replicated, you need to make some workarounds.",(0,t.jsx)(n.br,{}),"\n","My suggestion:"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In your actor you want replicated, check the ",(0,t.jsx)(n.code,{children:"Replicates"})," field."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Create and place a spawner actor in your room level. This spawner is not replicated."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.code,{children:"BeginPlay"})," of the spawner, check if it's server-side (with the ",(0,t.jsx)(n.code,{children:"HasAuthority"})," function) before spawning the real actor you want."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Spawn the actor if previous point is true. The spawned actor will spawns on all clients too and will be replicated properly."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(42484).A+"",width:"843",height:"263"})}),"\n",(0,t.jsx)(n.h2,{id:"multiplayer-in-editor",children:"Multiplayer in Editor"}),"\n",(0,t.jsxs)(n.p,{children:["You cannot play in multiplayer directly from the editor viewport.",(0,t.jsx)(n.br,{}),"\n","You have to change some settings in the editor in order to test your game in multiplayer."]}),"\n",(0,t.jsxs)(n.p,{children:["Here is how to setup the editor.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.em,{children:"(Some options could be in another place on newer version, but they are all here)"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["First, you have to click on the arrow next to the play button and go to ",(0,t.jsx)(n.code,{children:"Advance Settings"}),".",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:i(80620).A+"",width:"851",height:"460"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Then in ",(0,t.jsx)(n.code,{children:"Multiplayer Options"}),", set ",(0,t.jsx)(n.code,{children:"Number of Players"})," to 2, uncheck the ",(0,t.jsx)(n.code,{children:"Use Single Process"})," box and set the ",(0,t.jsx)(n.code,{children:"Editor Multiplyer Mode"})," to ",(0,t.jsx)(n.code,{children:"Listen Server"})," or ",(0,t.jsx)(n.code,{children:"Client"}),".",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:i(91314).A+"",width:"847",height:"303"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Finally, close the settings window and click again on the arrow next to the Play button and choose ",(0,t.jsx)(n.code,{children:"Standalone Game"}),".",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:i(28556).A+"",width:"695",height:"412"})]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},80620:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/AdvanceSettings-df0b2eec7f464e5101bb2b0e010fe4ea.jpg"},13282:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Flowchart_Dark_v4-a1e2ae2c93738a9955d422e88f457a71.svg"},91314:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/MultiOptions-60bd83113e3b27c86c9061922645e6d6.jpg"},42484:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/MultiSpawner-854ccb5c850d46bf3f2497c958a52966.jpg"},28556:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Standalone-c4054cf61486564a5745eca13ded27d3.jpg"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);